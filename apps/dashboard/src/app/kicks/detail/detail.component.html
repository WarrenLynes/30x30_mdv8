<div class="container" *ngIf="entity$ | async">
  <div class="col">
    <mat-card *ngIf="showForm">
      <form (submit)="onSubmit()" [formGroup]="detailForm">
        <mat-card-content>
          <mat-form-field class="full-width">
            <input matInput placeholder="Title" formControlName="title" type="text" name="title">
          </mat-form-field>

          <div class="form-errors" *ngIf="detailForm.controls.title.invalid && (detailForm.controls.title.dirty || detailForm.controls.title.touched)">
            <div class="form-field-error mat-warn" color="warn">
              <p class="warn mat-warn" color="warn">Title is required</p>
            </div>
          </div>

          <mat-form-field class="full-width">
            <textarea matInput placeholder="Details" formControlName="details" type="text" name="details"></textarea>
          </mat-form-field>

          <div class="form-errors" *ngIf="detailForm.controls.details.invalid && (detailForm.controls.details.dirty || detailForm.controls.details.touched)">
            <div class="form-field-error mat-warn" color="warn" *ngIf="detailForm.controls.details.errors.required">
              <p class="warn mat-warn" color="warn">details is required</p>
            </div>
          </div>

          <section class="full-width">
            <h3>level of coolness</h3>
            <h4>{{detailForm.controls['coolLevel'].value}}/100 </h4>
            <mat-slider class="full-width" min="0" max="100" thumbLabel name="coolLevel" formControlName="coolLevel" required></mat-slider>
          </section>
          <div class="form-errors" *ngIf="detailForm.controls.coolLevel.invalid && (detailForm.controls.coolLevel.dirty || detailForm.controls.coolLevel.touched)">
            <div class="form-field-error mat-warn" color="warn" *ngIf="detailForm.controls.coolLevel.errors.required">
              <p class="warn mat-warn" color="warn">cool-level is required</p>
            </div>
          </div>
        </mat-card-content>

        <mat-card-actions>
          <button type="button" mat-button (click)="onCancel()" >Cancel</button>
          <button type="button" mat-button (click)="onDelete()" >DELETE</button>
          <button type="submit" mat-button color="primary" [disabled]="!detailForm.valid">Save</button>
        </mat-card-actions>
      </form>
    </mat-card>
  </div>
</div>
